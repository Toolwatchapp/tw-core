{"version":3,"file":"measure.model.js","sourceRoot":"","sources":["measure.model.ts"],"names":[],"mappings":"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","sourcesContent":["export class Measure{\n\n\tid:number;\n\tmeasureUserTime:number;\n\tmeasureReferenceTime:number;\n\taccuracyUserTime:number;\n\taccuracyReferenceTime:number;\n\taccuracy:number;\n\taccuracyAge:number;\n\tpercentile:number;\n\tstatus: MeasureStatus = MeasureStatus.None;\n\n\tconstructor(id: number, measureUserTime: number, measureReferenceTime: number, \n\t\tstatus?: number, accuracyUserTime?: number, accuracyReferenceTime?: number, \n\t\taccuracy?: number, accuracyAge?: number, percentile?: number){\n\n\t\tthis.id = id\n\t\tthis.measureUserTime = measureUserTime;\n\t\tthis.measureReferenceTime = measureReferenceTime;\n\t\tthis.accuracyUserTime = accuracyUserTime;\n\t\tthis.accuracyReferenceTime = accuracyReferenceTime;\n\t\tthis.accuracy = accuracy;\n\t\tthis.accuracyAge = accuracyAge;\n\t\tthis.percentile = percentile;\n\n\t\tif(status >= 1){\n\t\t\tthis.status |= MeasureStatus.BaseMeasure;\n\t\t}\n\n\t\tif(status >= 2){\n\t\t\tthis.status |= MeasureStatus.AccuracyMeasure;\n\t\t}\n\n\t\tif (status >= 3) {\n\t\t\tthis.status |= MeasureStatus.ArchivedMeasure;\n\t\t}\n\n\t\tthis.computePostAccuracyStatus(accuracy, accuracyAge);\n\t}\n\n\n\taddBaseMeasure(referenceTime:number, userTime:number){\n\t\tthis.measureReferenceTime = referenceTime;\n\t\tthis.measureUserTime = userTime;\n\t\tthis.status |= MeasureStatus.BaseMeasure;\n\t}\n\n\taddAccuracyMeasure(referenceTime: number, userTime: number) {\n\t\tthis.accuracyReferenceTime = referenceTime;\n\t\tthis.accuracyUserTime = userTime;\n\t\tthis.status |= MeasureStatus.AccuracyMeasure;\n\t}\n\n\taddAccuracy(accuracy:number, accuracyAge:number, percentile:number){\n\t\tthis.accuracy = accuracy;\n\t\tthis.accuracyAge = accuracyAge;\n\t\tthis.percentile = percentile;\n\t\tthis.computePostAccuracyStatus(accuracy, accuracyAge);\n\t}\n\n\tprivate computePostAccuracyStatus(accuracy:number, accuracyAge:number){\n\t\tif (accuracy != null && accuracyAge != null) {\n\t\t\tif (Math.abs(accuracy) > 30) {\n\t\t\t\tthis.status |= MeasureStatus.ShouldBeServiced;\n\t\t\t}\n\n\t\t\tif (accuracyAge > 30) {\n\t\t\t\tthis.status |= MeasureStatus.ShouldBeRenewed;\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport enum MeasureStatus{\n\tNone = 0,\n\tBaseMeasure = 1 << 0,\n\tAccuracyMeasure = 1 << 1,\n\tArchivedMeasure = 1 << 2,\n\tShouldBeServiced = 1 << 3,\n\tShouldBeRenewed = 1 << 4\n}"]}